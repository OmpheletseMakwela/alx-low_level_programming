C nested loops amd functions
